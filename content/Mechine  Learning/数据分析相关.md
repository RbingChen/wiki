---
title : "数据分析相关"
Layout : page
date : 2018-12-12 11:49
---

[TOC]



# 一 增量



增量= 实验组支付人数- $r$ 空白组支付人数

$r$=实验组人数/空白组人数。

那么求增量的方差： Var(Add)
$$
Var(Add)=Var(\sum _i^NX_i-r\sum_j^MZ_j)\\\\
=Var(\sum _i^NX_i)+r^2Var(\sum_j^MZ_j)\\\\
=Np_x(1-p_x)+r^2Mp_z(1-p_z)
$$
如果$p_x,p_z$ 很小，则上等式近似如下：
$$
Var(Add)=N_x+r^2M_z
$$
$N_x$表示实验组支付人数，$M_z$表示空白组支付人数。那么可以计算得到 标准差（方差的开根号）。

如果增量>10 *标准差。那么说明增量的是很有效的。



# 二 空白组和实验组人问题

现在得到数据，统计可得 空白组人数为$M$，实验组为$N$。

那么理论空白组人数为$\hat M=\frac{r}{{(1+r)}}(M+N)$

偏差为：$\Delta_M=|\hat M-M|$

理论标准差为$std=\sqrt{ \frac{r}{{(1+r)}^2}(M+N)}$

计算偏差和标准差的比值，可以判断置信度。

中心极限定理，空白组人数服从$(\hat M,std^2)$的高斯分布。



# 三 标记重捕法置信度



假设：池塘中N条标记，M条无标记，总共$Z=N+M$。捕捉了n条有标记，m条无标记，一共$z=n+m$条。
$$
\hat Z=\frac {Nz}{n}
$$
那么：
$$
Var(n)=n\cdot p(1-p)=n\cdot \frac{n}{z}\cdot\frac{m}{z}
$$
所以m的标准差表示如下：
$$
std(n)=\sqrt{n\frac{mn}{(m+n)^2}}
$$
对于$z$来说：
$$
ln\hat Z=lnNz-\ln n
$$
求微分：
$$
|\frac{\Delta\hat Z}{\hat Z}|=|\frac{\Delta n}{n}|=\frac{std(n)}{n}
$$
**微分求偏差~简直溜**
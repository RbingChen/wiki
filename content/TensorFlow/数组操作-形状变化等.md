---
title : "数组操作"
layout : page
date : 2018-12-26 16：28
---

[TOC]



# tf.expend_dims

```python
# 't' is a tensor of shape [2]
tf.shape(tf.expand_dims(t, 0))  # [1, 2]
tf.shape(tf.expand_dims(t, 1))  # [2, 1]
tf.shape(tf.expand_dims(t, -1))  # [2, 1]

# 't2' is a tensor of shape [2, 3, 5]
tf.shape(tf.expand_dims(t2, 0))  # [1, 2, 3, 5]
tf.shape(tf.expand_dims(t2, 2))  # [2, 3, 1, 5]
tf.shape(tf.expand_dims(t2, 3))  # [2, 3, 5, 1]
```

维度扩充。

 类似于： x=x[:np.newaxis]

# tf.gather

```python
tf.gather(
    params,
    indices,
    validate_indices=None,
    name=None,
    axis=0
)
```

依据索引选取具体的值。

tf.gather_nd 。



# tf.tile

```python
tf.tile(
    input,
    multiples,
    name=None
)
#输出维度 input.dims(i)*multiples[i]。multiples 元素个数和input的维度个数一致。
```

# tf.split

```python
tf.split(
    value,
    num_or_size_splits,
    axis=0,
    num=None,
    name='split'
)
```

按维度切割tensor。



# tf.stack

```python
tf.stack(
    values,
    axis=0,
    name='stack'
)
x = tf.constant([1, 4])
y = tf.constant([2, 5])
z = tf.constant([3, 6])
tf.stack([x, y, z])  # [[1, 4], [2, 5], [3, 6]] (Pack along first dim.)
tf.stack([x, y, z], axis=1)  # [[1, 2, 3], [4, 5, 6]]
```



# tf.sequence_mask

```python
tf.sequence_mask(
    lengths,# 一般是一个list
    maxlen=None,#最大的长度
    dtype=tf.bool,#指定生成的类型
    name=None
)
tf.sequence_mask([1, 3, 2], 5)  # [[True, False, False, False, False],
                                #  [True, True, True, False, False],
                                #  [True, True, False, False, False]]

tf.sequence_mask([[1, 3],[2,0]])  # [[[True, False, False],
                                  #   [True, True, True]],
                                  #  [[True, True, False],
                                  #   [False, False, False]]]
```


---
title : "tensorflow各种乘法"
layout : page
date : 2019-02-28 15:00
---

[TOC]



# 一 matmul

```python
import  tensorflow as tf
import numpy as np

x=tf.random.normal(shape=[10,20,5])

t=tf.split(x,5*[1],2)
t1=tf.transpose(t)
t2=tf.matmul(t,t,transpose_b=True)
#t3=tf.matmul(t1,t2)

with tf.Session() as sess:
     x,t,t1=sess.run([x,t,t1])
     print(np.shape(x))
     print(np.shape(t))
     print(np.shape(t1))
     print(np.shape(t2))
     #print(np.shape(t3))
>>
(10, 20, 5)
(5, 10, 20, 1)
(1, 20, 10, 5)
(5, 10, 20, 20)
```

对于多维矩阵的乘法，前面的维度必须是一致的，后面的维度和普通矩阵一样。